# Smart Personal Content Management App

## 1. Overview
Develop a desktop/web, offline-first application allowing an individual user to store, organize, enrich, link, and efficiently retrieve all types of personal content: texts, images, links, screenshots, etc. The interface is inspired by "Pokémon cards" (cartoon/art déco style), features smart web content suggestions, and offers a graph view to visualize links between contents. Embedded AI (open source or via HuggingFace) is used for enrichment, tagging, and advanced search—but can always be deactivated.

## 2. Scope and Target Audience
- Strictly personal use, maximum privacy
- Desktop (Windows, Linux, MacOS) — installable app (Electron/Tauri)
- Web (modern browsers, PWA compatible desktop/mobile)
- Offline-first (no mandatory cloud; app works without connection)

## 3. Functional Features
### 3.1 Adding & Organizing Content
Supported formats:
- Text, notes, excerpts (copy/paste)
- Images (upload, drag & drop, screenshot, clipboard)
- Web links (URLs, social media, videos, etc.)
- Media files (audio/video — optional/future)

Each card stores the original source (file path, URL, or raw data) alongside an optional textual `content` representation so that every type of material can be summarized and indexed.

Quick add:
- Direct paste (Ctrl+V), drag & drop, "Add" button (paste, upload, capture)
- Immediate preview of content, with ability to edit/cancel before saving

Organization in cards (see UI section)
- Multi-deck cards: each card can appear in multiple decks/themes

### 3.2 Automatic Enrichment (Local AI or HuggingFace API)
- Automatic generation of tags and description
- Generation of stylized illustrative images (cartoon/art déco), or use of original image
- Option to disable all AI for a 100% offline mode
- Semantic search (tolerant to vague or approximate queries)
- Local chatbot/assistant for fuzzy content retrieval
 - Summary generation falls back to the card's source when no textual content is supplied, enabling enrichment of images, audio, video, or external links.
 - Prototype implements enrichment with a pluggable AI helper. By default it uses a lightweight heuristic to extract keywords and a short description from card content. When a `HUGGINGFACE_API_KEY` is provided, the helper queries the Hugging Face Hub to select popular models for summarization, chat replies, and image generation, then uses the Hugging Face inference API to produce results. A basic chatbot uses this layer to answer natural-language queries and surface matching cards.
 - The library is event driven, emitting notifications for card, deck, and link changes. AI enrichment can run in the background and will emit a `cardProcessed` event once summaries and illustrations are available, keeping the interface responsive while long-running model calls complete.

### 3.3 Decks & Navigation
- Thematic groups of cards, created manually or automatically based on tags
- Quick navigation between decks
- Each card may belong to multiple decks
- Instant search: by text, tags, or semantic (AI) search

### 3.4 Web Content Suggestions
- Regularly analyzes used tags and themes
- Searches public sources such as RSS feeds and Reddit based on tags to find related content; YouTube may be used for video cards and ArXiv for academic or research material
- Presents suggestions as "proposed" cards in a dedicated "Suggestions/Explore" section
- Actions: add, edit, ignore, view source
- Option to disable web suggestions (for offline or privacy-focused usage)
- The prototype implements this feature with a helper that queries these services using existing card tags to propose related items. Fetching suggestions can be disabled.
- Suggestions may be requested for an individual card using its tags, or globally by looking at the most common tags to surface theme-based recommendations.

### 3.5 Graph View Visualization
- Graphical display of links between cards in a deck
- Interactive visualization: each card as a "node" in the graph
- Manual or automatic card links (directional or not), annotated ("inspires", "completes"…)
- Drag & drop to link or organize cards
- Displays relationships and multi-deck membership
- Filter by deck, tag, or link type
- Responsive view, zoom/pan, fluid navigation
- Backend exposes a `getGraph` helper returning nodes and edges for use in visualizations. The method accepts optional filters for deck, tag, and link type, and each node includes the list of decks it belongs to

## 4. UI/UX Specifications
### 4.1 Card Design
- "Pokémon card" style (rectangular, decorative border, relief effect)
- Cartoon/art déco-style illustrative images generated by AI or user-provided
- Card color according to main tags (harmonious palette, dominant color or colored border)
- Clear title, short description, colored tags (bubble/chip), date, type
- Icons for content type (text, image, link…)
- Light animation on hover/selection, instant feedback
- A minimal static page in the `public/` directory demonstrates this design and uses Wikipedia lookups to fill a suggestion list when a card is selected or when the most common themes are considered.

### 4.2 Display & Navigation
- Home: card grid, sorted by deck/search/tags
- Persistent search bar
- Menu to switch between "cards" and "graph" view
- "Suggestions/Explore" section for web-proposed content
- Quick edit on card (tags, description, favorite, delete)
- Responsive for desktop/tablet/mobile

### 4.3 Graph View Visualization
- Uses an interactive graph library (React Flow, Cytoscape.js…)
- Nodes = cards (same stylized design)
- Visible, editable, annotatable links
- Cards shared among decks are indicated with a special icon/marker

## 5. Technical Specifications
### 5.1 Front-End
- Framework: React.js (or Svelte/Vue.js if preferred)
- Styling: Tailwind CSS, Material UI, custom SVG components
- Desktop app: Electron (Node.js/Chromium) or Tauri (Rust + JS/React, for lightness)
- Web app: PWA (manifest, offline cache, installable)
- UI features: Clipboard API, native Drag & Drop, File System Access API

### 5.2 Storage
- Local database: SQLite (via WASM) or IndexedDB
- File storage: local structured folder, auto-organized
- Fast indexing for instant search and graph
 - Prototype ships with a minimal SQLite-backed store that persists cards to disk and reloads them at startup

### 5.3 Artificial Intelligence
- Local open-source models:
  - NLP (tags, description, embeddings: MiniLM, Mistral, Llama2/3, DistilBERT…)
  - Image generation: Stable Diffusion with custom prompts ("cartoon", "art déco")
- Execution via HuggingFace Transformers.js or Node.js/Rust backend
- Vector search (FAISS, Annoy…)
- HuggingFace API support with user key
 - Prototype exposes a modular AI layer for summarization, illustration generation, and chatbot responses so integrators can swap in custom LLMs or image models.

### 5.4 Web Suggestions
- External search: integration of web APIs (Google, Wikipedia, YouTube…)
- Local semantic filtering (embedding matching)
- Privacy: fine settings, everything can be disabled

### 5.5 Security & Privacy
- Local data, no external transfer without explicit consent
- Optional database and file encryption
- Logs and crash reports local only, opt-in for sharing

## 6. Advanced Features & Roadmap
- Export/import database (JSON, ZIP…)
- Browser extension ("web clipper")
- Audio notes (future option)
- Smart decks/favorites based on usage
- Advanced card link management (annotation, link types)
- Advanced UI customization (color, tags, etc.)

## 7. Deliverables & Documentation
- Installable desktop application
- Webapp PWA
- Documented source code
- Full technical documentation
- Illustrated user guide
- Wireframes/UI mockups (on request)
- Example AI prompts, color/tag palette, DB schema mapping

## 8. Annexes
- Wireframes, Figma mockups, card & graph view examples
- Example prompt to generate cartoon/art déco images
- Tag/color mapping table (initial proposal)
- Technical schema (front/back/AI architecture)
- Link management API, multi-deck, web suggestions

## User Workflow Summary
```
[Simple add] → [AI-enriched card] → [Organization in decks] → [Search & suggestions] → [Graph visualization of links]
```
